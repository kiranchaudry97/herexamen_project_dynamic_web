// zie commit berict voor taal.js 

const languageSelect = document.getElementById("language");
const savedLanguage = localStorage.getItem("language") || "nl";

const translations = {
  nl: {
    title: "üé® BrusselsExplorer",
    intro: "Ontdek street art en verborgen parels in Brussel",
    start: "üß≠ Ontdek Brussel",
    favorites: "Favorieten",
    contact: "Contact",
    login: "Login",
    location: "Locatie",
    parcours: "Parcours",
    theme: "Donkere modus",
    language: "Taal:",
    home: "Home",
    about: "Over ons",
    shortIntro:
      "Ontdek hier een selectie van de kleurrijke stripmuren in Brussel: muurschilderingen ge√Ønspireerd op bekende striphelden zoals Kuifje, Lucky Luke en de Smurfen.",
    viewLabel: "Stripmuren / Kaart",
    add: "Voeg toe",
    openMap: "Open in Google Maps",
    artist: "Kunst",
    locationLabel: "Locatie",
    year: "Jaar",
    description: "Beschrijving",
    noDescription: "Geen beschrijving beschikbaar.",
    // Nieuwe filter vertalingen
    searchPlaceholder: "Zoek op titel, kunstenaar of jaar...",
    sortAZ: "Sorteer A ‚Üí Z",
    sortZA: "Sorteer Z ‚Üí A",
    sortYearUp: "Jaar ‚Üë",
    sortYearDown: "Jaar ‚Üì",
    allYears: "Alle jaren",
    allArtists: "Alle kunstenaars",
    resetFilters: "Reset",
    pageTitle: "üñºÔ∏è Stripmuren in Brussel",
    mapTitle: "üó∫Ô∏è Striproute",
    pageDescription: "Ontdek hier een selectie van de kleurrijke stripmuren in Brussel: muurschilderingen ge√Ønspireerd op bekende striphelden zoals Kuifje, Lucky Luke en de Smurfen.",
    // About pagina vertalingen
    about_header: "Over BrusselsExplorer",
    mission_title: "Missie",
    mission_text: "BrusselsExplorer is een digitale gids ontworpen door student Kiran Chaud-ry voor nieuwsgierige bezoekers en locals die de verborgen parels van de stripkunst in Brussel willen ontdekken.",
    whatwedo_title: "Wat doen we?",
    whatwedo_text: "We verzamelen en visualiseren data over muurschilderingen, kunstenaars en locaties uit het open data platform van Brussel. Via onze interactieve website brengen we deze striproutes tot leven.",
    projectinfo_title: "Projectinfo",
    projectinfo_text: "Dit project is onderdeel van het Dynamic Web curriculum. Het laat zien hoe je echte API-data, JavaScript-functionaliteit, themakeuze en gebruikersinteractie combineert in een moderne webtoepassing.",
    team_title: "Ontwikkelaar",
    team_text: "Gemaakt door Kiran Jamil Chaud-ry ‚Äî student Graduaat Programmeren - Project Dynamic Web.",
    // Homepage info sectie
    infoTitle: "Wat zijn de stripmuren van Brussel?",
    infoText: "In Brussel vind je meer dan 60 prachtige muurschilderingen die een eerbetoon zijn aan Belgische stripfiguren zoals Kuifje, Lucky Luke, Nero en de Smurfen. Deze kleurrijke muren vormen samen het beroemde stripparcours dat je uitnodigt om de stad op een unieke manier te ontdekken.",
    goalTitle: "Doel van BrusselsExplorer",
    goalText: "Met deze webapplicatie kun je deze stripmuren verkennen, favorieten opslaan, filteren op locatie en meer ‚Äì allemaal met echte data uit de open databronnen van Brussel.",
    // Favorieten pagina vertalingen
    nav_favorites: "Mijn Favorieten",
    favorites_title: "Favorieten",
    no_favorites: "Je hebt nog geen favorieten opgeslagen.",
    back_to_murals: "‚Üê Terug naar stripmuren",
    back_to_dashboard: "‚Üê Terug naar Dashboard",
    // Login pagina vertalingen
    login_title: "üîê Login",
    choose_role: "Kies rol:",
    select_role: "-- Selecteer rol --",
    role_user: "Gebruiker",
    role_admin: "Administrator",
    email_address: "E-mailadres",
    password: "Wachtwoord",
    login_button: "Inloggen",
    test_credentials: "üîë Gebruk/admin gegevens:",
    user_account: "Gebruiker account:",
    admin_account: "Admin account:",
    // Contact pagina vertalingen
    nav_contact: "Contact",
    section_send_message: "üì© Stuur ons een bericht",
    label_firstname: "Voornaam:",
    label_lastname: "Achternaam:",
    label_email: "E-mail:",
    label_comment: "Opmerking:",
    button_send: "Verzenden",
    email_title: "üìß E-mail",
    phone_title: "üìû Telefoon",
    address_title: "üìç Adres",
    contact_map_title: "Onze locatie",
    // Dashboard vertalingen
    user_dashboard_title: "üë§ Gebruiker Dashboard",
    welcome_message: "Welkom terug!",
    user_info: "Ingelogd als:",
    my_favorites: "üåü Mijn Favorieten",
    favorites_description: "Bekijk en beheer je opgeslagen stripmuren.",
    view_favorites: "Favorieten bekijken",
    explore_murals: "üé® Stripmuren Ontdekken",
    explore_description: "Ontdek alle stripmuren in Brussel.",
    explore_now: "Nu ontdekken",
    profile_settings: "‚öôÔ∏è Instellingen",
    settings_description: "Pas je voorkeuren en instellingen aan.",
    manage_settings: "Instellingen beheren",
    logout: "Uitloggen",
    dashboard: "Dashboard",
    admin_dashboard: "Admin Dashboard",
    // Tijdelijke favorieten berichten
    temp_favorites_question: "Wil je je tijdelijke favorieten bekijken?",
    already_in_temp_favorites: "staat al in je tijdelijke favorieten! Log in om permanent op te slaan.",
    temp_favorites_title: "Tijdelijke Favorieten",
    temp_favorites_message: "Je hebt {count} stripmuur(en) tijdelijk toegevoegd. Deze blijven bewaard tot je ze permanent opslaat of verwijdert. Log in om deze permanent op te slaan!",
    login_to_save: "Inloggen om te bewaren",
    remove_all_temp: "Verwijder Alle Tijdelijke",
    temporary_added: "tijdelijk toegevoegd! Login om permanent op te slaan.",
    temporary_button: "Tijdelijk",
    already_permanent: "staat al permanent in je favorieten!",
    added_permanent: "toegevoegd aan je permanente favorieten!",
    saved_button: "Opgeslagen",
    temp_saved_logged_in: "Je hebt {count} stripmuur(en) tijdelijk opgeslagen. Klik hieronder om deze permanent op te slaan!",
    save_all_favorites: "Bewaar Alle {count} Favorieten",
    must_login_to_save: "Je moet ingelogd zijn om favorieten permanent op te slaan!",
    no_temp_favorites_to_save: "Geen tijdelijke favorieten om op te slaan.",
    no_temp_favorites_to_remove: "Geen tijdelijke favorieten om te verwijderen.",
    all_temp_favorites_removed: "Alle tijdelijke favorieten zijn verwijderd.",
    temp_favorites_saved_permanently: "‚úÖ Tijdelijke favorieten zijn nu permanent opgeslagen!",
    temp_favorites_saved_success: "‚úÖ {count} van de {total} tijdelijke favorieten zijn permanent opgeslagen voor {user}!",
    confirm_remove_all_temp: "Weet je zeker dat je alle {count} tijdelijke favorieten wilt verwijderen?",
    confirm_save_temp_login: "Je hebt {count} tijdelijke favoriet(en). Wil je deze nu permanent opslaan?",
    remove_temp: "Verwijder tijdelijk",
    remove_permanent: "Verwijderen",
  },
  fr: {
    title: "üé® BrusselsExplorer",
    intro: "D√©couvrez le street art et les tr√©sors cach√©s de Bruxelles",
    start: "üß≠ Explorer Bruxelles",
    favorites: "Favoris",
    contact: "Contact",
    login: "Connexion",
    location: "Lieu",
    parcours: "Parcours",
    theme: "Mode sombre",
    language: "Langue :",
    home: "Accueil",
    about: "√Ä propos",
    shortIntro:
      "D√©couvrez ici une s√©lection de fresques BD color√©es √† Bruxelles, inspir√©es de h√©ros de bande dessin√©e comme Tintin, Lucky Luke et les Schtroumpfs.",
    viewLabel: "Fresques / Carte",
    add: "Ajouter",
    openMap: "Ouvrir dans Google Maps",
    artist: "Artiste",
    locationLabel: "Lieu",
    year: "Ann√©e",
    description: "Description",
    noDescription: "Pas de description disponible.",
    // Nieuwe filter vertalingen
    searchPlaceholder: "Rechercher par titre, artiste ou ann√©e...",
    sortAZ: "Trier A ‚Üí Z",
    sortZA: "Trier Z ‚Üí A",
    sortYearUp: "Ann√©e ‚Üë",
    sortYearDown: "Ann√©e ‚Üì",
    allYears: "Toutes les ann√©es",
    allArtists: "Tous les artistes",
    resetFilters: "R√©initialiser",
    pageTitle: "üñºÔ∏è Fresques BD √† Bruxelles",
    mapTitle: "üó∫Ô∏è Circuit BD",
    pageDescription: "D√©couvrez ici une s√©lection de fresques BD color√©es √† Bruxelles, inspir√©es de h√©ros de bande dessin√©e comme Tintin, Lucky Luke et les Schtroumpfs.",
    // About pagina vertalingen
    about_header: "√Ä propos de BrusselsExplorer",
    mission_title: "Mission",
    mission_text: "BrusselsExplorer est un guide num√©rique con√ßu par l'√©tudiant Kiran Chaud-ry pour les visiteurs curieux et les locaux qui souhaitent d√©couvrir les perles cach√©es de l'art de la bande dessin√©e √† Bruxelles.",
    whatwedo_title: "Que faisons-nous ?",
    whatwedo_text: "Nous collectons et visualisons des donn√©es sur les peintures murales, les artistes et les lieux √† partir de la plateforme open data de Bruxelles. Gr√¢ce √† notre site web interactif, nous donnons vie √† ces circuits BD.",
    projectinfo_title: "Info projet",
    projectinfo_text: "Ce projet fait partie du curriculum Dynamic Web. Il montre comment combiner des donn√©es API r√©elles, des fonctionnalit√©s JavaScript, le choix de th√®me et l'interaction utilisateur dans une application web moderne.",
    team_title: "D√©veloppeur",
    team_text: "Cr√©√© par Kiran Jamil Chaud-ry ‚Äî √©tudiant Graduaat Programmeren - Project Dynamic Web.",
    // Homepage info sectie
    infoTitle: "Que sont les murs BD de Bruxelles ?",
    infoText: "√Ä Bruxelles, vous trouverez plus de 60 magnifiques peintures murales qui rendent hommage aux personnages de bande dessin√©e belges comme Tintin, Lucky Luke, Nero et les Schtroumpfs. Ces murs color√©s forment ensemble le c√©l√®bre parcours BD qui vous invite √† d√©couvrir la ville d'une mani√®re unique.",
    goalTitle: "Objectif de BrusselsExplorer",
    goalText: "Avec cette application web, vous pouvez explorer ces murs BD, sauvegarder vos favoris, filtrer par lieu et plus encore ‚Äì le tout avec de vraies donn√©es des sources de donn√©es ouvertes de Bruxelles.",
    // Favorieten pagina vertalingen
    nav_favorites: "Mes Favoris",
    favorites_title: "Favoris",
    no_favorites: "Vous n'avez pas encore sauvegard√© de favoris.",
    back_to_murals: "‚Üê Retour aux fresques BD",
    back_to_dashboard: "‚Üê Retour au Tableau de Bord",
    // Contact pagina vertalingen
    nav_contact: "Contact",
    section_send_message: "üì© Envoyez-nous un message",
    label_firstname: "Pr√©nom:",
    label_lastname: "Nom:",
    label_email: "E-mail:",
    label_comment: "Commentaire:",
    button_send: "Envoyer",
    email_title: "üìß E-mail",
    phone_title: "üìû T√©l√©phone",
    address_title: "üìç Adresse",
    contact_map_title: "Notre emplacement",
    // Login pagina vertalingen
    login_title: "üîê Connexion",
    choose_role: "Choisir le r√¥le :",
    select_role: "-- S√©lectionner un r√¥le --",
    role_user: "Utilisateur",
    role_admin: "Administrateur",
    email_address: "Adresse e-mail",
    password: "Mot de passe",
    login_button: "Se connecter",
    test_credentials: "üîë Identifiants utilisateur/admin :",
    user_account: "Compte utilisateur :",
    admin_account: "Compte admin :",
    // Dashboard vertalingen
    user_dashboard_title: "üë§ Tableau de Bord Utilisateur",
    welcome_message: "Bon retour !",
    user_info: "Connect√© en tant que :",
    my_favorites: "üåü Mes Favoris",
    favorites_description: "Consultez et g√©rez vos fresques BD sauvegard√©es.",
    view_favorites: "Voir les favoris",
    explore_murals: "üé® D√©couvrir les Fresques BD",
    explore_description: "D√©couvrez toutes les fresques BD √† Bruxelles.",
    explore_now: "D√©couvrir maintenant",
    profile_settings: "‚öôÔ∏è Param√®tres",
    settings_description: "Ajustez vos pr√©f√©rences et param√®tres.",
    manage_settings: "G√©rer les param√®tres",
    logout: "Se d√©connecter",
    dashboard: "Tableau de Bord",
    admin_dashboard: "Dashboard Admin",
    // Tijdelijke favorieten berichten
    temp_favorites_question: "Voulez-vous voir vos favoris temporaires ?",
    already_in_temp_favorites: "est d√©j√† dans vos favoris temporaires ! Connectez-vous pour sauvegarder de fa√ßon permanente.",
    temp_favorites_title: "Favoris Temporaires",
    temp_favorites_message: "Vous avez ajout√© {count} fresque(s) BD temporairement. Elles restent sauvegard√©es jusqu'√† ce que vous les enregistriez de fa√ßon permanente ou les supprimiez. Connectez-vous pour les sauvegarder de fa√ßon permanente !",
    login_to_save: "Se connecter pour sauvegarder",
    remove_all_temp: "Supprimer Tous les Temporaires",
    temporary_added: "ajout√© temporairement ! Connectez-vous pour sauvegarder de fa√ßon permanente.",
    temporary_button: "Temporaire",
    already_permanent: "est d√©j√† dans vos favoris permanents !",
    added_permanent: "ajout√© √† vos favoris permanents !",
    saved_button: "Sauvegard√©",
    temp_saved_logged_in: "Vous avez {count} fresque(s) BD sauvegard√©es temporairement. Cliquez ci-dessous pour les sauvegarder de fa√ßon permanente !",
    save_all_favorites: "Sauvegarder Tous les {count} Favoris",
    must_login_to_save: "Vous devez √™tre connect√© pour sauvegarder les favoris de fa√ßon permanente !",
    no_temp_favorites_to_save: "Aucun favori temporaire √† sauvegarder.",
    no_temp_favorites_to_remove: "Aucun favori temporaire √† supprimer.",
    all_temp_favorites_removed: "Tous les favoris temporaires ont √©t√© supprim√©s.",
    temp_favorites_saved_permanently: "‚úÖ Les favoris temporaires sont maintenant sauvegard√©s de fa√ßon permanente !",
    temp_favorites_saved_success: "‚úÖ {count} des {total} favoris temporaires ont √©t√© sauvegard√©s de fa√ßon permanente pour {user} !",
    confirm_remove_all_temp: "√ätes-vous s√ªr de vouloir supprimer tous les {count} favoris temporaires ?",
    confirm_save_temp_login: "Vous avez {count} favori(s) temporaire(s). Voulez-vous les sauvegarder de fa√ßon permanente maintenant ?",
    remove_temp: "Supprimer temporaire",
    remove_permanent: "Supprimer",
  },
};

function applyLanguage(lang) {
  // Normale tekst elementen
  const elements = document.querySelectorAll("[data-i18n]");
  elements.forEach((el) => {
    const key = el.getAttribute("data-i18n");
    if (translations[lang] && translations[lang][key]) {
      el.innerText = translations[lang][key];
    }
  });

  // Placeholder attributen
  const placeholderElements = document.querySelectorAll("[data-i18n-placeholder]");
  placeholderElements.forEach((el) => {
    const key = el.getAttribute("data-i18n-placeholder");
    if (translations[lang] && translations[lang][key]) {
      el.placeholder = translations[lang][key];
    }
  });
}

languageSelect.value = savedLanguage;
applyLanguage(savedLanguage);

// Maak vertalingen globaal beschikbaar
window.translations = translations;

// üîÑ EventListener bij wijziging
languageSelect.addEventListener("change", () => {
  const selectedLang = languageSelect.value;
  localStorage.setItem("language", selectedLang);
  applyLanguage(selectedLang);

  // Update filter functies als beschikbaar
  if (typeof window.filterFuncties !== 'undefined' && window.filterFuncties.wijzigTaal) {
    window.filterFuncties.wijzigTaal(selectedLang);
  }

  // Update favorieten knoppen als beschikbaar
  if (typeof favorietenManager !== 'undefined' && favorietenManager.updateFavorietenDisplay) {
    favorietenManager.updateFavorietenDisplay();
  }

  // Update favorieten pagina als deze geladen is
  if (typeof favorietenManager !== 'undefined' && favorietenManager.toonFavorieten) {
    favorietenManager.toonFavorieten();
  }

  // Fallback: Herladen stripmuren als script aanwezig is
  if (typeof toonStripmuren === "function" && window.cachedData) {
    toonStripmuren(window.cachedData, selectedLang);
  }
});
